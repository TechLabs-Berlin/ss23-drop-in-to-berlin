{"ast":null,"code":"var _jsxFileName = \"/Users/felix/Projekte/Web-Dev/TechLabs/100-DIB/ss23-drop-in-to-berlin/dib/src/components/SearchBar.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction debounce(func, wait) {\n  let timeout;\n  return function (...args) {\n    const context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(context, args), wait);\n  };\n}\nfunction SearchBar(props) {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [activeIndex, setActiveIndex] = useState(-1);\n  useEffect(() => {\n    const debouncedSearch = debounce(props.onSearchChange, 300);\n    if (searchTerm) {\n      debouncedSearch(searchTerm);\n    } else {\n      props.onSearchChange('');\n    }\n  }, [searchTerm, props]);\n  const handleInputChange = event => {\n    setSearchTerm(event.target.value);\n    setActiveIndex(-1);\n  };\n  const handleSuggestionClick = suggestion => {\n    setSearchTerm(suggestion.name);\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'ArrowDown') {\n      setActiveIndex(prev => Math.min(prev + 1, props.suggestions.length - 1));\n    } else if (e.key === 'ArrowUp') {\n      setActiveIndex(prev => Math.max(prev - 1, 0));\n    } else if (e.key === 'Enter' && activeIndex >= 0) {\n      handleSuggestionClick(props.suggestions[activeIndex]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative bg-gray-100 p-2 rounded-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search for restaurants...\",\n      value: searchTerm,\n      onChange: handleInputChange,\n      onKeyDown: handleKeyDown,\n      className: \"px-4 py-2 w-full border-2 border-gray-300 bg-gray-100 rounded-lg focus:outline-none focus:border-black\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"absolute w-full mt-1 border-t-0 rounded-lg overflow-y-auto max-h-40 bg-white shadow-lg z-10 border-black border-2\",\n      children: props.suggestions.length > 0 ? props.suggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => handleSuggestionClick(suggestion),\n        className: `px-4 py-2 cursor-pointer hover:bg-gray-200 ${index === activeIndex ? 'bg-gray-300' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold\",\n          children: suggestion.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 33\n        }, this)\n      }, suggestion.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 29\n      }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"px-4 py-2 font-semibold text-gray-500\",\n        children: \"No matches found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(SearchBar, \"jHkNtjWwN30X8myRBgRrCiB6UG0=\");\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","debounce","func","wait","timeout","args","context","clearTimeout","setTimeout","apply","SearchBar","props","_s","searchTerm","setSearchTerm","activeIndex","setActiveIndex","debouncedSearch","onSearchChange","handleInputChange","event","target","value","handleSuggestionClick","suggestion","name","handleKeyDown","e","key","prev","Math","min","suggestions","length","max","className","children","type","placeholder","onChange","onKeyDown","fileName","_jsxFileName","lineNumber","columnNumber","map","index","onClick","id","_c","$RefreshReg$"],"sources":["/Users/felix/Projekte/Web-Dev/TechLabs/100-DIB/ss23-drop-in-to-berlin/dib/src/components/SearchBar.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nfunction debounce(func, wait) {\n    let timeout;\n    return function (...args) {\n        const context = this;\n        clearTimeout(timeout);\n        timeout = setTimeout(() => func.apply(context, args), wait);\n    };\n}\n\nfunction SearchBar(props) {\n    const [searchTerm, setSearchTerm] = useState('');\n    const [activeIndex, setActiveIndex] = useState(-1);\n\n    useEffect(() => {\n        const debouncedSearch = debounce(props.onSearchChange, 300); \n        if (searchTerm) {\n            debouncedSearch(searchTerm);\n        } else {\n            props.onSearchChange('');\n        }\n    }, [searchTerm, props]);\n\n    const handleInputChange = (event) => {\n        setSearchTerm(event.target.value);\n        setActiveIndex(-1);\n    };\n\n    const handleSuggestionClick = (suggestion) => {\n        setSearchTerm(suggestion.name);\n    };\n\n    const handleKeyDown = (e) => {\n        if (e.key === 'ArrowDown') {\n            setActiveIndex((prev) => Math.min(prev + 1, props.suggestions.length - 1));\n        } else if (e.key === 'ArrowUp') {\n            setActiveIndex((prev) => Math.max(prev - 1, 0));\n        } else if (e.key === 'Enter' && activeIndex >= 0) {\n            handleSuggestionClick(props.suggestions[activeIndex]);\n        }\n    };\n\n    return (\n        <div className=\"relative bg-gray-100 p-2 rounded-lg\">\n            <input\n                type=\"text\"\n                placeholder=\"Search for restaurants...\"\n                value={searchTerm}\n                onChange={handleInputChange}\n                onKeyDown={handleKeyDown}\n                className=\"px-4 py-2 w-full border-2 border-gray-300 bg-gray-100 rounded-lg focus:outline-none focus:border-black\"\n            />\n            {searchTerm && (\n                <ul className=\"absolute w-full mt-1 border-t-0 rounded-lg overflow-y-auto max-h-40 bg-white shadow-lg z-10 border-black border-2\">\n                    {props.suggestions.length > 0 ? (\n                        props.suggestions.map((suggestion, index) => (\n                            <li\n                                key={suggestion.id}\n                                onClick={() => handleSuggestionClick(suggestion)}\n                                className={`px-4 py-2 cursor-pointer hover:bg-gray-200 ${index === activeIndex ? 'bg-gray-300' : ''}`}\n                            >\n                                <span className=\"font-semibold\">{suggestion.name}</span>\n                            </li>\n                        ))\n                    ) : (\n                        <li className=\"px-4 py-2 font-semibold text-gray-500\">No matches found</li>\n                    )}\n                </ul>\n            )}\n        </div>\n    );\n}\n\nexport default SearchBar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}