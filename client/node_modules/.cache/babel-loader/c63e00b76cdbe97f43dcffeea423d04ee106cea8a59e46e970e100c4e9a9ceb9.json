{"ast":null,"code":"var _jsxFileName = \"/Users/felix/Projekte/Web-Dev/TechLabs/100-DIB/ss23-drop-in-to-berlin/dib/src/components/SearchBar.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction debounce(func, wait) {\n  let timeout;\n  return function (...args) {\n    const context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(context, args), wait);\n  };\n}\n\n//what is the above doing?\n\nfunction SearchBar({\n  onSearchChange,\n  suggestions\n}) {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [activeIndex, setActiveIndex] = useState(-1);\n  useEffect(() => {\n    const debouncedSearch = debounce(onSearchChange, 300);\n    if (searchTerm) {\n      debouncedSearch(searchTerm);\n      console.log('debouncedSearch done');\n    } else {\n      onSearchChange('');\n      console.log('onSearchChange');\n    }\n  }, [onSearchChange, searchTerm, suggestions]);\n  const handleInputChange = event => {\n    setSearchTerm(event.target.value);\n    setActiveIndex(-1);\n  };\n  const handleSuggestionClick = suggestion => {\n    setSearchTerm(suggestion.name);\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'ArrowDown') {\n      setActiveIndex(prev => Math.min(prev + 1, suggestions.length - 1));\n    } else if (e.key === 'ArrowUp') {\n      setActiveIndex(prev => Math.max(prev - 1, 0));\n    } else if (e.key === 'Enter' && activeIndex >= 0) {\n      handleSuggestionClick(suggestions[activeIndex]);\n    }\n    console.log('keydown handled :', e.key);\n  };\n  console.log('search bar before return');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative bg-gray-100 p-2 rounded-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search for restaurants...\",\n      value: searchTerm,\n      onChange: handleInputChange,\n      onKeyDown: handleKeyDown,\n      className: \"px-4 py-2 w-full border-2 border-gray-300 bg-gray-100 rounded-lg focus:outline-none focus:border-black\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"absolute w-full mt-1 border-t-0 rounded-lg overflow-y-auto max-h-40 bg-white shadow-lg z-10 border-black border-2\",\n      children: suggestions.length > 0 ? suggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => handleSuggestionClick(suggestion),\n        className: `px-4 py-2 cursor-pointer hover:bg-gray-200 ${index === activeIndex ? 'bg-gray-300' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold\",\n          children: suggestion.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 33\n        }, this)\n      }, suggestion.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"px-4 py-2 font-semibold text-gray-500\",\n        children: \"No matches found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n_s(SearchBar, \"jHkNtjWwN30X8myRBgRrCiB6UG0=\");\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","debounce","func","wait","timeout","args","context","clearTimeout","setTimeout","apply","SearchBar","onSearchChange","suggestions","_s","searchTerm","setSearchTerm","activeIndex","setActiveIndex","debouncedSearch","console","log","handleInputChange","event","target","value","handleSuggestionClick","suggestion","name","handleKeyDown","e","key","prev","Math","min","length","max","className","children","type","placeholder","onChange","onKeyDown","fileName","_jsxFileName","lineNumber","columnNumber","map","index","onClick","id","_c","$RefreshReg$"],"sources":["/Users/felix/Projekte/Web-Dev/TechLabs/100-DIB/ss23-drop-in-to-berlin/dib/src/components/SearchBar.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nfunction debounce(func, wait) {\n    let timeout;\n    return function (...args) {\n        const context = this;\n        clearTimeout(timeout);\n        timeout = setTimeout(() => func.apply(context, args), wait);\n    };\n}\n\n//what is the above doing?\n\nfunction SearchBar({onSearchChange, suggestions}) {\n\n    const [searchTerm, setSearchTerm] = useState('');\n    const [activeIndex, setActiveIndex] = useState(-1);\n\n    useEffect(() => {\n        const debouncedSearch = debounce(onSearchChange, 300); \n        if (searchTerm) {\n            debouncedSearch(searchTerm);\n            console.log ('debouncedSearch done')\n        } else {\n            onSearchChange('');\n            console.log('onSearchChange')\n        }\n    }, [onSearchChange, searchTerm, suggestions]);\n\n    const handleInputChange = (event) => {\n        setSearchTerm(event.target.value);\n        setActiveIndex(-1);\n    };\n\n    const handleSuggestionClick = (suggestion) => {\n        setSearchTerm(suggestion.name);\n    };\n\n    const handleKeyDown = (e) => {\n        if (e.key === 'ArrowDown') {\n            setActiveIndex((prev) => Math.min(prev + 1, suggestions.length - 1));\n        } else if (e.key === 'ArrowUp') {\n            setActiveIndex((prev) => Math.max(prev - 1, 0));\n        } else if (e.key === 'Enter' && activeIndex >= 0) {\n            handleSuggestionClick(suggestions[activeIndex]);\n        }\n    console.log('keydown handled :', e.key)\n    };\n\n    console.log('search bar before return')\n    return (\n        <div className=\"relative bg-gray-100 p-2 rounded-lg\">\n            <input\n                type=\"text\"\n                placeholder=\"Search for restaurants...\"\n                value={searchTerm}\n                onChange={handleInputChange}\n                onKeyDown={handleKeyDown}\n                className=\"px-4 py-2 w-full border-2 border-gray-300 bg-gray-100 rounded-lg focus:outline-none focus:border-black\"\n            />\n            {searchTerm && (\n                <ul className=\"absolute w-full mt-1 border-t-0 rounded-lg overflow-y-auto max-h-40 bg-white shadow-lg z-10 border-black border-2\">\n                    {suggestions.length > 0 ? (\n                        suggestions.map((suggestion, index) => (\n                            <li\n                                key={suggestion.id}\n                                onClick={() => handleSuggestionClick(suggestion)}\n                                className={`px-4 py-2 cursor-pointer hover:bg-gray-200 ${index === activeIndex ? 'bg-gray-300' : ''}`}\n                            >\n                                <span className=\"font-semibold\">{suggestion.name}</span>\n                            </li>\n                        ))\n                    ) : (\n                        <li className=\"px-4 py-2 font-semibold text-gray-500\">No matches found</li>\n                    )}\n                </ul>\n            )}\n        </div>\n    );\n}\n\nexport default SearchBar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}